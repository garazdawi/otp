// -*- c -*-
//
// %CopyrightBegin%
//
// Copyright Ericsson AB 2020. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// %CopyrightEnd%
//

pred.is_mfa_bif(M, F, A) {
    Export *e;

    ASSERT(M.type == TAG_a && F.type == TAG_a && A.type == TAG_u);
    e = erts_active_export_entry(M.val, F.val, A.val);

    if (e != NULL) {
        return e->bif_number != -1;
    }

    return 0;
}

pred.needs_nif_padding() {
    /* If the module may load a NIF all functions must be able to hold a NIF
     * stub, so we'll pad to that size at the end of every function. */
    return S->may_load_nif;
}
